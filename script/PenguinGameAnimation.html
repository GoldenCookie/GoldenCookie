<html>
	<body>
		<input type = "button" value = "FIRE!" onclick = "fire();"></input>
		<input type = "button" value = "MISS!" onclick = "miss();"></input>
	</body>
</html>
<script>
	var a = document.createElement("div");
	var aPosX = 0;
	var aPosY = 0;
	var aWidth = 0;
	var aHeight = 0;
	
	var b = document.createElement("div");
	var bPosX = 0;
	var bPosY = 0;
	var bWidth = 0;
	var bHeight = 0;
	
	var c = document.createElement("div");
	var cPosX = 0;
	var cPosY = 0;
	var cWidth = 0;
	var cHeight = 0;
	
	var d = document.createElement("div");
	var dPosX = 0;
	var dPosY = 0;
	var dWidth = 0;
	var dHeight = 0;

	var id;
	var frame;
	var frame2;
	var count = 0;
	
	var aDisX = 0;
	var aDisY = 0;
	var aVelX = 35;
	var aVelY = 25;
	var aAccX = 0;
	var aAccY = -2;
	var count = 0;
	
	var aRefX = 0;
	var aRefY = 340;
	
	var bPosX = 850;
	var bPosY = 348;
	
	var cPosX = 0;
	var cPosY = 388;
	
	var dPosX = 1024;
	var dPosY = 0;
function fire()
{
	aPosX = aRefX;
	aPosY = aRefY;
	a.style.marginLeft = aPosX + 'px';
	a.style.marginTop = aPosY + 'px';
	aDisX = 0;
	aDisY = 0;
	aVelX = 35;
	aVelY = 25;
	aAccX = 0;
	aAccY = -2;
	id = setInterval(frame,25);
}
function miss()
{
	aPosX = aRefX;
	aPosY = aRefY;
	a.style.marginLeft = aPosX + 'px';
	a.style.marginTop = aPosY + 'px';
	aDisX = 0;
	aDisY = 0;
	aVelX = 10;
	aVelY = 30;
	aAccX = 0;
	aAccY = -2;
	id = setInterval(frame,25);
}
onload = function()
{
	aWidth = 50;
	aHeight = 50;
	document.body.appendChild(a);
	a.style.position = 'absolute';
	a.style.width = aWidth + 'px';
	a.style.height = aHeight + 'px';
	a.style.backgroundColor = '#cc0000';
	a.style.marginLeft = aPosX + 'px';
	a.style.marginTop = aPosY + 'px';
	
	bWidth = 100;
	bHeight = 40;
	document.body.appendChild(b);
	b.style.position = 'absolute';
	b.style.width = bWidth + 'px';
	b.style.height = bHeight + 'px';
	b.style.backgroundColor = '#cccc00';
	b.style.marginLeft = bPosX + 'px';
	b.style.marginTop = bPosY + 'px';

	cWidth = 1024;
	cHeight = 50;
	document.body.appendChild(c);
	c.style.position = 'absolute';
	c.style.width = cWidth + 'px';
	c.style.height = cHeight + 'px';
	c.style.backgroundColor = '#cc00cc';
	c.style.marginLeft = cPosX + 'px';
	c.style.marginTop = cPosY + 'px';
	
	dWidth = 50;
	dHeight = 600;
	document.body.appendChild(d);
	d.style.position = 'absolute';
	d.style.width = dWidth + 'px';
	d.style.height = dHeight + 'px';
	d.style.backgroundColor = '#00cccc';
	d.style.marginLeft = dPosX + 'px';
	d.style.marginTop = dPosY + 'px';
	
	frame = function()
	{
		aDisX += aVelX;
		aVelX += aAccX;
			
		aDisY += aVelY;
		aVelY += aAccY;
			
		aPosX = aRefX + aDisX;
		aPosY = aRefY - aDisY;
			
		a.style.marginLeft = aPosX + 'px';
		a.style.marginTop = aPosY + 'px';
	
		var aboveB = aPosY + aHeight < bPosY;
		var belowB = aPosY > bPosY + bHeight ;
		var toLeftB = aPosX + aWidth < bPosX;
		var toRightB = aPosX > bPosX + bWidth;
		var aboveA = bPosY + bHeight < aPosY;
		var belowA = bPosY > aPosY + aHeight ;
		var toLeftA = bPosX + bWidth< aPosX;
		var toRightA = bPosX > aPosX + aWidth;
		
		if((!aboveB&&!belowB&&!toLeftB&&!toRightB)||(!aboveA&&!belowA&&!toLeftA&&!toRightA) || aPosX > 1024 - aHeight || aPosY > 388 - aWidth)
		{
			clearInterval(id);
		}	
	}

}
</script>
